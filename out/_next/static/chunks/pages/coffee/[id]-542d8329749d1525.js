(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23],{5091:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/coffee/[id]",function(){return a(2951)}])},2951:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Z}});var r=a(4051),s=a.n(r),n=a(5893),i=a(9669),c=a.n(i),l=a(8100),o=a(1664),d=a(5675),u=a(1163),x=a(7294),f=a(7333),h=a(6267),m=a.n(h),p=a(7521),g=a(1394),b=a(4005);function v(e){var t=3==e.id;return(0,n.jsxs)("button",{className:"".concat(t?"text-black":"text-white"," relative flex xs:w-1/2 items-center justify-center h-[72px] px-2 text-left rounded-lg shadow-low group transition duration-500 ease-in-out overflow-hidden translate-x-0"),onClick:e.action,style:{backgroundColor:"".concat(e.coffee.color)},children:[(0,n.jsx)("span",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 bg-black/20 transition duration-500 ease-in-out rounded-lg mix-blend-overlay"}),(0,n.jsx)("span",{className:"absolute left-0 top-0 bottom-0 w-1/2 bg-gradient-to-r from-white/0 via-white/20 to-white/0 shimmer"}),(0,n.jsxs)("span",{className:"relative uppercase tracking-widest text-md lg:text-lg",children:["Add ",e.amount>1&&(0,n.jsx)("span",{className:"".concat(t?"bg-black":"bg-white"," rounded-full pl-2 pr-1.5 py-0.5"),style:{color:"".concat(e.coffee.color)},children:e.amount})," to cart"]})]})}var w=a(3259),j={src:"/_next/static/media/chevron-left-24.133af108.svg",height:24,width:24},y={src:"/_next/static/media/chevron-right-24.b8868003.svg",height:24,width:24},k={src:"/_next/static/media/minus-circle-24.69c46ed2.svg",height:24,width:24},N={src:"/_next/static/media/plus-circle-24.8353fef7.svg",height:24,width:24},_=a(7112),I=a(9991),C=a(1321);function S(e,t,a,r,s,n,i){try{var c=e[n](i),l=c.value}catch(o){return void a(o)}c.done?t(l):Promise.resolve(l).then(r,s)}function V(e){return function(){var t=this,a=arguments;return new Promise((function(r,s){var n=e.apply(t,a);function i(e){S(n,r,s,i,c,"next",e)}function c(e){S(n,r,s,i,c,"throw",e)}i(void 0)}))}}function Z(e){var t,a=(0,u.useRouter)(),r=a.query.id,i=(parseInt(r),(0,x.useState)(1)),o=i[0],h=i[1],j=(function(){var e=V(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get(t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}(),(0,l.ZP)({query:C.k5,variables:{coffeeID:String(r)}},I.T0)),y=j.data,S=j.error;y&&(t=y.data.coffee);var Z,T=(0,l.ZP)({query:C.F7,variables:{coffeeID:String(r)}},I.T0),z=T.data;T.error;z&&(Z=z.data.coffeeIngredients);var E=(0,x.useState)(""),F=(E[0],E[1]),O={};localStorage.getItem("cart")&&(O=JSON.parse(localStorage.getItem("cart")));var D=function(){var a=V(s().mark((function a(n){return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:O[r]={coffee:t,quantity:o},localStorage.setItem("cart",JSON.stringify(O)),F(o),e.setCartVisible(!0);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return(0,x.useEffect)((function(){h(1)}),[a.asPath]),(0,n.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,n.jsx)(p.Z,{accountVisible:e.accountVisible,setAccountVisible:e.setAccountVisible,isAuthed:e.isAuthed,setIsAuthed:e.setIsAuthed}),(0,n.jsx)(b.Z,{isActive:r}),(0,n.jsxs)("main",{className:"relative flex items-center justify-center w-full flex-1 py-12 px-8 text-center z-30",children:[(0,n.jsx)(q,{id:r}),(0,n.jsx)("section",{className:"relative flex flex-col md:flex-row flex-shrink-0 max-w-[1080px] w-full md:h-[640px] bg-white dark:bg-[#0B0B0B] rounded-xl shadow-high dark:shadow-highlight overflow-hidden z-20",children:t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("aside",{className:"bg-gray-50 dark:bg-transparent md:bg-transparent relative flex items-center justify-center md:w-2/5 xl:w-1/2 h-[250px] md:h-full md:overflow-hidden z-10 transition duration-500 ease-in-out",children:(0,n.jsx)("img",{className:"scale-50 translate-y-[-40px] md:translate-y-[-10px] md:scale-100 max-w-min transition duration-500 ease-in-out",src:"/images".concat(t.image),width:800,height:800,loader:m()})}),(0,n.jsxs)("article",{className:"relative flex flex-col justify-between w-full md:w-3/5 xl:w-1/2 p-6 space-y-4 md:space-y-0 text-left md:bg-gradient-to-r from-gray-50 dark:from-black/50 via-white dark:via-black/0 to-white dark:to-black/0 dark:text-white/90 shadow-crease dark:shadow-darkCrease md:shadow-fold dark:md:shadow-darkFold transition duration-500 ease-in-out z-20",children:[(0,n.jsxs)("div",{className:"flex flex-col md:p-8 md:pt-4 space-y-2",children:[(0,n.jsx)("h1",{className:"font-semibold text-4xl sm:text-5xl leading-none sm:leading-tight capitalize sm:truncate",children:t.name}),(0,n.jsx)("p",{className:"text-black/75 dark:text-white/75 text-sm sm:text-base",children:t.teaser})]}),(0,n.jsx)("div",{className:"flex flex-col md:px-8",children:(0,n.jsxs)("dl",{className:"grid sm:grid-cols-3",children:[(0,n.jsx)("dt",{className:"text-black/75 dark:text-white/75 text-sm sm:border-b border-gray-200 dark:border-white/10 sm:py-2 pt-2 sm:pt-3",children:"Collection"}),(0,n.jsx)("dd",{className:"text-lg col-span-2 border-b border-gray-200 dark:border-white/10 py-2 pt-0 sm:pt-2",children:t.collection}),(0,n.jsx)("dt",{className:"text-black/75 dark:text-white/75 text-sm sm:border-b border-gray-200 dark:border-white/10 sm:py-2 pt-4 sm:pt-3",children:"Origin"}),(0,n.jsx)("dd",{className:"text-lg col-span-2 border-b border-gray-200 dark:border-white/10 py-2 pt-0 sm:pt-2",children:t.origin}),(0,n.jsx)("dt",{className:"text-black/75 dark:text-white/75 text-sm sm:py-2 pt-4 sm:pt-3",children:"Ingredients"}),(0,n.jsx)("dd",{className:"col-span-2 py-2 pt-2.5",children:Z&&Z.map((function(e){return(0,n.jsx)("span",{className:"block line-clamp-1",children:"".concat(e.quantity," ").concat(e.unit," ").concat(e.name," ")})}))})]})}),(0,n.jsxs)("div",{className:"flex flex-col xs:flex-row w-full xs:space-x-4 space-y-4 xs:space-y-0 pt-8",children:[(0,n.jsxs)("p",{className:"flex xs:w-1/2 py-3 items-center justify-between font-semibold tracking-tight bg-gray-200/25 dark:bg-white/10 rounded-lg select-none",children:[(0,n.jsx)(P,{action:function(){o>1&&h(o-1)},icon:k,disabled:1==o}),(0,n.jsx)("span",{className:"text-2xl lg:text-4xl",children:(0,n.jsx)(f.Z,{displayType:"text",prefix:"$",value:((t.price/100).toFixed(2)*o).toFixed(2)})}),(0,n.jsx)(P,{action:function(){o<=10&&h(o+1)},icon:N,disabled:10==o})]}),(0,n.jsx)(v,{action:D,coffee:t,amount:o,setCartVisible:e.setCartVisible})]})]})]}):(0,n.jsx)("div",{className:"flex items-center justify-center w-full",children:S?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center text-black/75 dark:text-white/75 h-full min-h-[280px]",children:[(0,n.jsx)(d.default,{src:_.Z,className:"opacity-50 dark:invert",loader:m()}),(0,n.jsx)("h4",{className:"mt-4",children:"Unable to query the selected coffee."}),(0,n.jsx)("p",{className:"text-sm opacity-75",children:"Check the console for error messages."})]}):(0,n.jsx)("div",{className:"flex justify-center items-center w-full h-full min-h-[280px]",children:(0,n.jsx)("span",{className:"animate-ping w-3 h-3 rounded-full bg-gray-200 dark:bg-white/25"})})})}),(0,n.jsx)(A,{id:r})]}),(0,n.jsx)(g.Z,{}),(0,n.jsx)(w.Z,{isSticky:!0,cartVisible:e.cartVisible,setCartVisible:e.setCartVisible})]})}function P(e){return(0,n.jsx)("button",{onClick:e.action,className:"".concat(e.disabled?"opacity-0 pointer-events-none":"opacity-50 hover:opacity-75 active:opacity-100"," flex items-center px-3 select-none flex-shrink-0 transition dark:invert"),children:(0,n.jsx)(d.default,{src:e.icon,loader:m()})})}function q(e){var t,a=parseInt(e.id)-1,r=(function(){var e=V(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get(t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}(),(0,l.ZP)({query:C.d8,variables:{coffeeID:String(a)}},I.T0)),i=r.data;r.error;return i&&(t=i.data.coffee),(0,n.jsx)("div",{className:"hidden 2xl:flex flex-1 flex-col items-center justify-center relative -mx-8 h-full overflow-hidden",children:t?(0,n.jsx)(T,{id:a,image:t.image,icon:j,direction:"prev",loader:m()}):(0,n.jsx)("div",{})})}function A(e){var t,a=parseInt(e.id)+1,r=(function(){var e=V(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get(t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}(),(0,l.ZP)({query:C.d8,variables:{coffeeID:String(a)}},I.T0)),i=r.data;r.error;return i&&(t=i.data.coffee),(0,n.jsx)("div",{className:"hidden 2xl:flex flex-1 flex-col items-center justify-center relative -mx-8 h-full overflow-hidden",children:t?(0,n.jsx)(T,{id:a,image:t.image,icon:y,direction:"next",loader:m()}):(0,n.jsx)("div",{})})}function T(e){return(0,n.jsx)(o.default,{href:"/coffee/".concat(e.id),scroll:!1,children:(0,n.jsxs)("a",{className:"relative group",children:[(0,n.jsx)("span",{className:"".concat("next"==e.direction?"translate-x-[-10px]":"translate-x-[10px]"," absolute left-1/2 top-1/2 w-16 h-16 -ml-8 -mt-8 flex items-center justify-center bg-black/75 backdrop-blur-md shadow-high rounded-full opacity-0 group-hover:opacity-100 scale-95 group-hover:scale-100 group-hover:translate-x-0 z-20 transition duration-500 ease-in-out"),children:(0,n.jsx)(d.default,{src:e.icon,className:"invert",loader:m()})}),(0,n.jsx)("img",{className:"relative max-w-min transition duration-500 ease-in-out opacity-50 group-hover:opacity-75",src:"/images".concat(e.image),width:640,height:640,loader:m()})]})})}}},function(e){e.O(0,[24,452,380,10,774,888,179],(function(){return t=5091,e(e.s=t);var t}));var t=e.O();_N_E=t}]);