(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[441],{9869:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order/[id]",function(){return t(898)}])},898:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return k}});var a=t(4051),r=t.n(a),i=t(5893),l=t(9669),c=t.n(l),n=t(8100),d=(t(1664),t(5675)),x=t(1163),o=(t(7294),t(7333)),m=t(6267),h=t.n(m),f=t(7521),u=t(1394),p=t(5078),b=t(3747),g=t(9991),w=t(1321);function j(e,s,t,a,r,i,l){try{var c=e[i](l),n=c.value}catch(d){return void t(d)}c.done?s(n):Promise.resolve(n).then(a,r)}function N(e){return function(){var s=this,t=arguments;return new Promise((function(a,r){var i=e.apply(s,t);function l(e){j(i,a,r,l,c,"next",e)}function c(e){j(i,a,r,l,c,"throw",e)}l(void 0)}))}}function k(e){var s,t=(0,x.useRouter)(),a=t.query.id,l=(function(){var e=N(r().mark((function e(s){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get(s).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}(),(0,n.ZP)({query:w.wc,variables:{orderID:String(a)}},g.T0)),m=l.data;l.error,function(){var e=N(r().mark((function e(s){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.back();case 1:case"end":return e.stop()}}),e)})))}();m&&(s=m.data.order);var j=0;s&&(j=s.items.reduce((function(e,s){return e+s.coffee.price*s.quantity}),0));var k={};if(localStorage.getItem("orders")){var v=JSON.parse(localStorage.getItem("orders"));v[a]&&(k=v[a])}return(0,i.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,i.jsx)(f.Z,{accountVisible:e.accountVisible,setAccountVisible:e.setAccountVisible,isAuthed:e.isAuthed,setIsAuthed:e.setIsAuthed}),(0,i.jsx)("main",{className:"relative flex flex-col items-center justify-center w-full flex-1 space-y-12 py-12 px-8 text-center dark:text-white/90 z-30",children:s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("header",{className:"flex items-center items-start max-w-[1080px] w-full xs:px-8 space-x-4",children:(0,i.jsxs)("div",{className:"flex flex-col text-left space-y-2",children:[(0,i.jsx)("h1",{className:"font-semibold text-4xl sm:text-5xl leading-none sm:leading-tight sm:truncate",children:"Order confirmation"}),(0,i.jsx)("p",{className:"text-black/75 dark:text-white/75 text-sm sm:text-base",children:"(Order confirmed, but no payment was taken, because this is just a demo)"})]})}),(0,i.jsxs)("section",{className:"relative max-w-[1080px] w-full bg-white dark:bg-[#0B0B0B] rounded-xl shadow-high dark:shadow-highlight",children:[(0,i.jsx)("div",{className:"flex items-center justify-center bg-gray-100/25 dark:bg-black/10 border-b border-gray-100 dark:border-white/10 mb-3 overflow-hidden",children:(0,i.jsx)("div",{className:"flex items-center justify-center -space-x-20",children:s.items.map((function(e){return(0,i.jsxs)("div",{className:"flex items-center flex-shrink-0",children:[e.amount>2&&(0,i.jsx)("img",{className:"relative mr-[-170px] scale-90 z-0 flex-shrink-0 opacity-80",src:"/images/thumbnails".concat(e.coffee.image),width:200,height:200,loader:h()}),e.amount>1&&(0,i.jsx)("img",{className:"relative mr-[-170px] scale-95 z-0 flex-shrink-0 opacity-90",src:"/images/thumbnails".concat(e.coffee.image),width:200,height:200,loader:h()}),(0,i.jsx)("img",{className:"test relative flex-shrink-0",src:"/images/thumbnails".concat(e.coffee.image),width:200,height:200,loader:h()},e.coffee.id)]})}))})}),(0,i.jsxs)("div",{className:"flex flex-1 flex-col items-start px-6 xs:px-8 pt-4 pb-8",children:[(0,i.jsxs)("p",{className:"font-semibold text-2xl sm:text-4xl pb-6",children:["Order #",s.id]}),(0,i.jsxs)("div",{className:"flex flex-col items-start space-y-2 mb-5 w-full",children:[(0,i.jsx)("p",{className:"text-black/75 dark:text-white/75",children:"Items"}),(0,i.jsx)("ul",{className:"w-full",children:s.items.map((function(e){return(0,i.jsxs)("li",{className:"flex items-center justify-between border-b border-dashed border-gray-200 dark:border-white/20 last:border-none py-3 pr-3",children:[(0,i.jsxs)("span",{className:"flex items-center pl-1",children:[(0,i.jsx)("img",{className:"relative flex-shrink-0",src:"/images/thumbnails".concat(e.coffee.image),width:40,height:40,loader:h()},e.coffee.id),e.quantity," x ",e.coffee.name]}),(0,i.jsx)(o.Z,{displayType:"text",prefix:"$",value:(e.coffee.price/100).toFixed(2),className:"opacity-75"})]},e.id)}))}),(0,i.jsx)(o.Z,{displayType:"text",prefix:"$",value:(j/100).toFixed(2),className:"self-end font-semibold text-2xl sm:text-4xl pr-3"})]}),Object.keys(k).length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex flex-wrap flex-col md:flex-row w-full",children:[(0,i.jsxs)("div",{className:"flex flex-col items-start space-y-1 px-6 py-4 bg-gray-100/50 dark:bg-white/5 shadow-stroke dark:shadow-highlight rounded-lg mb-6 md:mr-6",children:[(0,i.jsx)("p",{className:"text-black/75 dark:text-white/75",children:"Plain text card number"}),(0,i.jsx)(o.Z,{className:"font-mono",format:"#### #### #### ####",value:k.card_plaintext,displayType:"text"})]}),(0,i.jsxs)("div",{className:"flex flex-col items-start space-y-1 px-6 py-4 dark:bg-white/5 shadow-stroke dark:shadow-highlight rounded-lg mb-6 md:mr-6",children:[(0,i.jsx)("p",{className:"text-black/75 dark:text-white/75",children:"Status"}),(0,i.jsxs)("p",{className:"flex space-x-3 text-base",children:[k.message.includes("success")?(0,i.jsx)(d.default,{src:p.Z,className:"icon-green",loader:h()}):(0,i.jsx)(d.default,{src:b.Z,className:"icon-red",loader:h()}),(0,i.jsx)("span",{children:k.message.split(",")[0]})]})]}),(0,i.jsxs)("div",{className:"flex flex-col items-start space-y-1 px-6 py-4 dark:bg-white/5 shadow-stroke dark:shadow-highlight rounded-lg mb-6 md:mr-6",children:[(0,i.jsx)("p",{className:"text-black/75 dark:text-white/75",children:"Encryption Status"}),(0,i.jsxs)("p",{className:"flex space-x-3 text-base",children:[k.card_ciphertext.includes("Disabled")?(0,i.jsx)(d.default,{src:b.Z,className:"icon-red",loader:h()}):(0,i.jsx)(d.default,{src:p.Z,className:"icon-green",loader:h()}),(0,i.jsx)("span",{children:k.card_ciphertext})]})]})]}),(0,i.jsx)("p",{className:"text-black/75 dark:text-white/75 text-sm text-left",children:"Card details returned for demo purposes, not for production."})]})]})]})]})}),(0,i.jsx)(u.Z,{})]})}}},function(e){e.O(0,[24,380,774,888,179],(function(){return s=9869,e(e.s=s);var s}));var s=e.O();_N_E=s}]);